<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Fri Jul 02 22:42:13 CEST 2021 -->
<title>MarketController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-07-02">
<meta name="description" content="declaration: package: it.polimi.ingsw.server.controller, class: MarketController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server.controller</a></div>
<h1 title="Class MarketController" class="title">Class MarketController</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">it.polimi.ingsw.server.controller.MarketController</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="type-name-label">MarketController</span>
extends java.lang.Object</pre>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private <a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#model">model</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private <a href="ResourceController.html" title="class in it.polimi.ingsw.server.controller">ResourceController</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#resourceController">resourceController</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private static <a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#singleton">singleton</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier</th>
<th class="col-second" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private </code></td>
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(it.polimi.ingsw.server.model.Game)">MarketController</a></span>&#8203;(<a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a>&nbsp;model)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#addMarketAbility(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.server.model.WhiteMarbleAbility)">addMarketAbility</a></span>&#8203;(<a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;player,
<a href="../model/WhiteMarbleAbility.html" title="class in it.polimi.ingsw.server.model">WhiteMarbleAbility</a>&nbsp;marbleAbility)</code></th>
<td class="col-last">
<div class="block">This method is called by the LeaderCardsController when the conditions to activate
 a leaderCard are verified.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#buyMarbles(it.polimi.ingsw.utils.networking.transmittables.clientmessages.game.ClientBuyMarblesMessage,it.polimi.ingsw.server.view.RemoteViewHandler,it.polimi.ingsw.server.controller.User)">buyMarbles</a></span>&#8203;(<a href="../../utils/networking/transmittables/clientmessages/game/ClientBuyMarblesMessage.html" title="class in it.polimi.ingsw.utils.networking.transmittables.clientmessages.game">ClientBuyMarblesMessage</a>&nbsp;action,
<a href="../view/RemoteViewHandler.html" title="class in it.polimi.ingsw.server.view">RemoteViewHandler</a>&nbsp;view,
<a href="User.html" title="class in it.polimi.ingsw.server.controller">User</a>&nbsp;user)</code></th>
<td class="col-last">
<div class="block">Called by ClientBuyMarblesMessage.handleMessage().</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>private java.util.List&lt;<a href="../model/Resource.html" title="class in it.polimi.ingsw.server.model">Resource</a>&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#convertMarbles(it.polimi.ingsw.server.model.MarketMarble%5B%5D)">convertMarbles</a></span>&#8203;(<a href="../model/MarketMarble.html" title="enum in it.polimi.ingsw.server.model">MarketMarble</a>[]&nbsp;marbles)</code></th>
<td class="col-last">
<div class="block">Called on the definitive array of gained market marbles.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#convertWhiteMarbles(it.polimi.ingsw.utils.networking.transmittables.clientmessages.game.ClientConvertWhiteMarblesMessage,it.polimi.ingsw.server.view.RemoteViewHandler,it.polimi.ingsw.server.controller.User)">convertWhiteMarbles</a></span>&#8203;(<a href="../../utils/networking/transmittables/clientmessages/game/ClientConvertWhiteMarblesMessage.html" title="class in it.polimi.ingsw.utils.networking.transmittables.clientmessages.game">ClientConvertWhiteMarblesMessage</a>&nbsp;action,
<a href="../view/RemoteViewHandler.html" title="class in it.polimi.ingsw.server.view">RemoteViewHandler</a>&nbsp;view,
<a href="User.html" title="class in it.polimi.ingsw.server.controller">User</a>&nbsp;user)</code></th>
<td class="col-last">
<div class="block">Called when the player has been prompted to choose which resources he wishes to convert his white marbles in as result of twoLeaderCardsException.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>static <a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#destroy()">destroy</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>static <a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getInstance(it.polimi.ingsw.server.model.Game)">getInstance</a></span>&#8203;(<a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a>&nbsp;model)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="singleton">
<h3>singleton</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></span>&nbsp;<span class="member-name">singleton</span></div>
</section>
</li>
<li>
<section class="detail" id="resourceController">
<h3>resourceController</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="ResourceController.html" title="class in it.polimi.ingsw.server.controller">ResourceController</a></span>&nbsp;<span class="member-name">resourceController</span></div>
</section>
</li>
<li>
<section class="detail" id="model">
<h3>model</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></span>&nbsp;<span class="member-name">model</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.server.model.Game)">
<h3>MarketController</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="member-name">MarketController</span>&#8203;(<span class="parameters"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a>&nbsp;model)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getInstance(it.polimi.ingsw.server.model.Game)">
<h3>getInstance</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></span>&nbsp;<span class="member-name">getInstance</span>&#8203;(<span class="parameters"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a>&nbsp;model)</span></div>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="MarketController.html" title="class in it.polimi.ingsw.server.controller">MarketController</a></span>&nbsp;<span class="member-name">destroy</span>()</div>
</section>
</li>
<li>
<section class="detail" id="buyMarbles(it.polimi.ingsw.utils.networking.transmittables.clientmessages.game.ClientBuyMarblesMessage,it.polimi.ingsw.server.view.RemoteViewHandler,it.polimi.ingsw.server.controller.User)">
<h3>buyMarbles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">buyMarbles</span>&#8203;(<span class="parameters"><a href="../../utils/networking/transmittables/clientmessages/game/ClientBuyMarblesMessage.html" title="class in it.polimi.ingsw.utils.networking.transmittables.clientmessages.game">ClientBuyMarblesMessage</a>&nbsp;action,
<a href="../view/RemoteViewHandler.html" title="class in it.polimi.ingsw.server.view">RemoteViewHandler</a>&nbsp;view,
<a href="User.html" title="class in it.polimi.ingsw.server.controller">User</a>&nbsp;user)</span>
                throws <span class="exceptions"><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></span></div>
<div class="block">Called by ClientBuyMarblesMessage.handleMessage(). Gets the marbles from the market triggering its reconfiguration
 and handles the TwoLeaderCardsException. If it is not thrown, calls convertMarbles to acquire the gained resources.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the ClientMessage containing information about the player's action.</dd>
<dd><code>view</code> - the player's corresponding RealRemoteViewHandler that will handle status messages to be sent back to the view.</dd>
<dd><code>user</code> - the User corresponding to the player making the action.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertWhiteMarbles(it.polimi.ingsw.utils.networking.transmittables.clientmessages.game.ClientConvertWhiteMarblesMessage,it.polimi.ingsw.server.view.RemoteViewHandler,it.polimi.ingsw.server.controller.User)">
<h3>convertWhiteMarbles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">convertWhiteMarbles</span>&#8203;(<span class="parameters"><a href="../../utils/networking/transmittables/clientmessages/game/ClientConvertWhiteMarblesMessage.html" title="class in it.polimi.ingsw.utils.networking.transmittables.clientmessages.game">ClientConvertWhiteMarblesMessage</a>&nbsp;action,
<a href="../view/RemoteViewHandler.html" title="class in it.polimi.ingsw.server.view">RemoteViewHandler</a>&nbsp;view,
<a href="User.html" title="class in it.polimi.ingsw.server.controller">User</a>&nbsp;user)</span>
                         throws <span class="exceptions"><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></span></div>
<div class="block">Called when the player has been prompted to choose which resources he wishes to convert his white marbles in as result of twoLeaderCardsException.
 Takes as an input an array of MarketMarbles that it asks the market to substitute to the white marbles in the previous array.
 Passes the new array to convertMarbles, returning to the normal control flow.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the ClientMessage containing information about the player's action.</dd>
<dd><code>view</code> - the player's corresponding RealRemoteViewHandler that will handle status messages to be sent back to the view.</dd>
<dd><code>user</code> - the User corresponding to the player making the action.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertMarbles(it.polimi.ingsw.server.model.MarketMarble[])">
<h3>convertMarbles</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">java.util.List&lt;<a href="../model/Resource.html" title="class in it.polimi.ingsw.server.model">Resource</a>&gt;</span>&nbsp;<span class="member-name">convertMarbles</span>&#8203;(<span class="parameters"><a href="../model/MarketMarble.html" title="enum in it.polimi.ingsw.server.model">MarketMarble</a>[]&nbsp;marbles)</span>
                                         throws <span class="exceptions"><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></span></div>
<div class="block">Called on the definitive array of gained market marbles.
 Returns an array of market marbles into an array of resources.
 If faith has been collected, it issues a call to the ResourcesController to add the faith to the user's faith track.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>marbles</code> - marbles to be collected</dd>
<dt>Returns:</dt>
<dd>ArrayList of resources, without faith included, to be deposited into the warehouse.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EndOfGameException.html" title="class in it.polimi.ingsw.server.exception">EndOfGameException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addMarketAbility(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.server.model.WhiteMarbleAbility)">
<h3>addMarketAbility</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">addMarketAbility</span>&#8203;(<span class="parameters"><a href="../model/Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;player,
<a href="../model/WhiteMarbleAbility.html" title="class in it.polimi.ingsw.server.model">WhiteMarbleAbility</a>&nbsp;marbleAbility)</span></div>
<div class="block">This method is called by the LeaderCardsController when the conditions to activate
 a leaderCard are verified.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>player</code> - the Player activating the ability.</dd>
<dd><code>marbleAbility</code> - the  ability.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
